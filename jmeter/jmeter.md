# Welcome to JMETER

[![N|Solid](http://jmeter.apache.org/images/jmeter.png)](https://nodesource.com/products/nsolid)



## Содержание:
- Что такое нагрузочное тестирование
- Тулы для проведения нагрузочного тестирования
- Плюсы и минусы jmeter
- Пример тест плана и его элементы
- Отчетность jmeter
- jmeter на примере
- Полученные результаты


## 1.Что такое нагрузочное тестирование
![screenshot of sample](/jmeter/images/1.png)
`Нагрузочное тестирование` - это не функциональный процесс тестирования программного обеспечения, в котором производительность программного приложения проверяется при определенной ожидаемой нагрузке.

## 2.Тулы для проведения нагрузочного тестирования
##### Тулы не требующие написания кода:
- Jmeter
- SoapUI (Load UI)

##### Тулы требующие написания кода:
- Grinder
- Gatling
- Locust
- Taurus
- Tsung 

> The overriding design goal for Markdown's
> formatting syntax is to make it as readable
> as possible. The idea is that a
> Markdown-formatted document should be
> publishable as-is, as plain text, without
> looking like it's been marked up with tags
> or formatting instructions.

`jMeter` — это программное обеспечение для тестирования с открытым исходным кодом. Это 100% чистое Java-приложение для нагрузочного тестирования и тестирования производительности.


## 3.Плюсы и минусы jmeter
##### Плюсы:
- Легко установить
- GUI и non-GUI режим работы (с консоли)
- кроссплатформенность
- Поддержка протоколов (HTTP(S),SOAP,FTP)
- Возможность интеграций с Selenium
- Возможность автоматически генерировать тестовые скрипты
##### Минусы:
- Ресурсозатратный при большой нагрузке и использовании различных репортов в GUI режиме




## Установка jmeter
- Для начала установить java 8+
- Дальше Переходим по ссылке https://jmeter.apache.org/download_jmeter.cgi

![screenshot of sample](/jmeter/images/2.jpg)

- Скачиваем и делаем распаковку jmeter
- Запускаем meter.bat с папки /bin

![screenshot of sample](/jmeter/images/3.jpg)

![screenshot of sample](/jmeter/images/4.jpg)



## Важные элементы jmeter
1) `Thread group` - представляет собой набор потоков, каждый поток представляет одного пользователя, использующего тестируемое приложение, в основном каждый поток имитирует один реальный запрос пользователя к серверу

![screenshot of sample](/jmeter/images/5.jpg)

![screenshot of sample](/jmeter/images/6.jpg)

2) `Samplers` - добавляются как дочерние элементы групп потоков. Они используются для отправки на сервер различных типов запросов. После того, как запрос сэмплера обрабатывается сервером, его ответ возвращается в JMeter, и его можно просматривать и анализировать с точки зрения различных параметров производительности, таких как время отклика, количество обращений в секунду, пропускная способность 

![screenshot of sample](/jmeter/images/7.jpg)

3) `Listeners` - слушатели показывают результат выполнения теста, они могут отображать результаты в другом формате, например, в виде графика или файла журнала.

![screenshot of sample](/jmeter/images/8.jpg)


4) `Configuration` - элементы, которые устанавливают значения по умолчанию и переменные для последующего использования сэмплерами


5) `Assertions`- используется для проверки ответа на запрос, который вы отправили на сервер. Assertions - это процесс, в котором вы проверяете ожидаемый результат с фактическим результатом запроса во время выполнения.

![screenshot of sample](/jmeter/images/9.jpg)

![screenshot of sample](/jmeter/images/10.jpg)

## На примере

#### Шаг - 1
- Запустить JMeter
- Перед работой важно включить прокси сервер
- В поле Адрес вбиваете свой ip,порт по дефолту в jmeter стоит 8888

 ![screenshot of sample](/jmeter/images/11.jpg)

- Добавьте Thread Group
- Выберите план тестирования в дереве
-Щелкните правой кнопкой мыши «Test Plan» и добавьте новую группу потоков: Add -> Threads (Users) -> Thread Group

 ![screenshot of sample](/jmeter/images/12.jpg)
 
 
На панели управления thread group:
Название группы

 ![screenshot of sample](/jmeter/images/13.jpg)
  ![screenshot of sample](/jmeter/images/14.jpg)
  
- `Number of Threads`: 100 (Количество пользователей, подключающихся к сайту: 100)
- `Ramp-Up Period`: 100 (Ramp-Up Period сообщает JMeter, сколько времени нужно отложить до запуска следующего пользователя. Например, если у нас 100 пользователей и 100-секундный Ramp-Up Period, то задержка между стартовыми пользователями будет 1 секунда (100 секунд / 100 пользователей).
- `Loop Count`: 10 (Количество времени на выполнение тестирования)



#### Шаг - 2

## Добавление элементов JMeter
- **HTTP request Default** 
Этот элемент можно добавить, щелкнув правой кнопкой мыши thread group и выбрав: **Add** -> **Config Element** -> **HTTP Request Defaults**.
  ![screenshot of sample](/jmeter/images/15.jpg)
  
  **HTTP Request Defaults** - это очень простой и ключевой элемент JMeter. Этот элемент конфигурации используется, когда все запросы в сценарии JMeter отправляются на один и тот же сервер. Вы можете добавить один элемент HTTP-запроса по умолчанию в План тестирования с правильным именем или IP-адресом сервера в поле «Имя или IP-адрес сервера».
 
В панели управления HTTP-запроса по умолчанию введите имя тестируемого веб-сайта.В поле server name or IP указать адрес сайта.
  ![screenshot of sample](/jmeter/images/16.jpg)
  

-  **HTTP Request**
Этот элемент можно добавить, щелкнув правой кнопкой мыши Thread Group и выбрать : **Add** -> **Sampler** -> **HTTP Request**.
  ![screenshot of sample](/jmeter/images/17.jpg)
В панели управления HTTP-запросами поле «Path» указываете, какой URL-запрос вы хотите отправить на сервер сайта.

  ![screenshot of sample](/jmeter/images/18.jpg)
  
  Например, если вы введете «backend-outsourcing» в поле «Path». JMeter создаст URL-запрос https://crtweb.ru/backend-outsourcingr к серверу crtweb.ru.


#### Шаг - 3
## Добавление результата графика

JMeter может отображать результат теста в формате графика.
Щелкните правой кнопкой мыши **Test Plan**, **Add** -> **Listener** -> **Graph Results**.

 ![screenshot of sample](/jmeter/images/19.jpg)
 
 
 
#### Шаг - 4
## Добавление view result tree

JMeter может отображать результат теста в формате таблиц.
Щелкните правой кнопкой мыши **Test Plan**, **Add** -> **Listener** -> **View Result Tree**.
**View result tree** - это, инструмент для отладки отправленных запросов и полученных ответов.

 ![screenshot of sample](/jmeter/images/20.jpg)
 
#### Шаг - 5
## Запустить тест и получить результат теста
Нажмите кнопку (Ctrl + R) на панели инструментов, чтобы начать процесс тестирования программного обеспечения. Вы увидите отображение результатов теста на графике в реальном времени.

На рисунке ниже представлен график плана тестирования, в котором мы смоделировали 100 пользователей, которые заходили на сайт www.benefaka.kz
Ниже указаны весь список запросов,всех юзеров,каждый запрос можно детальнее изучить.
 ![screenshot of sample](/jmeter/images/21.jpg)
 
 ![screenshot of sample](/jmeter/images/22.jpg)



Внизу изображения представлены следующие статистические данные, представленные цветами:

**Черный** : общее количество отправленных текущих образцов.
Синий : текущее среднее значение всех отправленных образцов.
`Красный` : текущее стандартное отклонение.
Зеленый : пропускная способность, которая представляет количество запросов в минуту, обработанных сервером.



